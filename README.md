# mindmap_20230618
# Initialize virtual environment
pip install -r requirements.txt

# To run the code
./go.sh



---------------------------------------- Как запускать? --------------------------------------

В проекте использовалась версия **Python 3.10.18**

Чтобы запустить эксперименты:
1. Склонировать к себе репозиторий
2. Создать виртуальную среду для работы с проектом и подключить ее
3. Подтянуть необходимые зависимости из new_requirements.txt
4. Для замеров экспериментов:

    4.1. План для замера экспериментов с изначальными данными

        4.1.1. Переключиться на коммит final_save_base_code 

        (e2d9f40bb2eab7b3ed8fdc0f14fd465c4f9a638f)

        4.1.2. Запустить обучение модели

            4.1.2.1. Запуск полной модели

            ```bash
            python train.py --seed 5 --model_name <название_модели>
            ```

            4.1.2.2. Запуск модели без RL блока

            ```bash
            python train.py --seed 5 --model_name <название_модели> --rl 0
            ```
            
            4.1.2.3. Запуск модели без GCN блока (блок, который улучшает эмбединги предложений именно на этот вход подаются матрицы связи между предложениями)

            ```bash
            python train.py --seed 5 --model_name <название_модели> --gcn 0
            ```

            4.1.2.4. Запуск модели без GCL блока (блок, который использует контрастивное обучение; самый последний этап в обучении)

            ```bash
            python train.py --seed 5 --model_name <название_модели> --gcl 0
            ```

            4.1.2.2. Запуск модели без GCN и GCL блоков

            ```bash
            python train.py --seed 5 --model_name <название_модели> --gcn 0 --gcl 0
            ```

        4.1.3 Для получения метрик надо дождаться конца обучения. Как только оно закончится, будет произведен замер метрик на тестовой выборке, их и используем для сравнения.

        Пример:

        ```text
        final result for 15  files
        0.3164707614612494
        key word:  0.39388541741002164
        0.3164707614612494
        ```

        Здесь `0.3164707614612494` - среднее по rouge на тестовой выборке, в качестве узлов предложения; `0.39388541741002164` - в качестве узлов словосочетания.


    4.2. План для замера эксперимента с единичной матрицей

        4.2.1. Переключиться на коммит with ones matrix 

        (a237cc616f22de5d5afe92ea995a340d6bef88b2)

        4.2.2 Запустить Запустить обучение модели

        ```bash
        python train.py --seed 5 --model_name <название_модели>
        ```

        4.2.3 Для получения метрик надо дождаться конца обучения. Как только оно закончится, будет произведен замер метрик на тестовой выборке, их и используем для сравнения.